From f06d42bc92eae8a463e140612e096fb915dfbc3f Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Dan=20Hor=C3=A1k?= <dan@danny.cz>
Date: Sat, 9 Mar 2019 10:09:39 -0500
Subject: [PATCH] zipl: copy new section introduced by GCC 9
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

GCC 9 is using a new section called .rodata.cst8 for some literals and it must be included
when copying the bootloaders to the bin images.

Signed-off-by: Dan Hor√°k <dan@danny.cz>
---
 zipl/boot/Makefile | 1 +
 1 file changed, 1 insertion(+)

diff --git a/zipl/boot/Makefile b/zipl/boot/Makefile
index 52b3a23..7a3571e 100644
--- a/zipl/boot/Makefile
+++ b/zipl/boot/Makefile
@@ -71,6 +71,7 @@ stage3.exec: head.o stage3.o kdump3.o libc.o sclp.o sclp_stage3.o \
 		--only-section=.ex_table \
 		--only-section=.data \
 		--only-section=.rodata.str1.2 \
+		--only-section=.rodata.cst8 \
 		--only-section=.rodata \
 		--only-section=.stage2dump.tail \
 		--only-section=.eckd2dump_mv.tail \
-- 
2.17.2

